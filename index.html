<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0">
    <meta name="description" content="Drooble, video, music, share" />
    <title>Index Page</title>
    <script type="text/javascript">
        window.addEventListener("load", function () {
                if (localStorage.getItem("isLogged") === "logged") {
                    document.getElementById("logout").style.display = "block";
                    document.getElementById("login").style.display = "none";
                    document.getElementById("comments").style.display = "block";
                } else {
                    document.getElementById("logout").style.display = "none";
                    document.getElementById("login").style.display = "block";
                    document.getElementById("comments").style.display = "none";
                }
            });
    </script>
    <link href="bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="bower_components/font-awesome/css/font-awesome.css" rel="stylesheet" type="text/css" />
    <link href="css.custom/custom.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div class="container">
        <!--login-->
        <div class="row box-height-50">
            <br/>
            <!--using in-line style is not a right way to style your HTML but in this case it is the only way to avoid blinking after log-in log-out or page reload-->
            <div class="col-lg-12 missing" id="logout" style="display: none">
                <form class="form-inline pull-right" data-bind="submit: function() { processLogOut();}">
                    <div class="form-group">
                        <button class="btn btn-primary">Logout&nbsp;&nbsp;<i class="glyphicon glyphicon-log-out"></i></button>
                    </div>
                </form>
            </div>
            <!--using in-line style is not a right way to style your HTML but in this case it is the only way to avoid blinking after log-in log-out or page reload-->
            <div class="col-lg-12" id="login" style="display: none">
                <form method="post" class="form-inline pull-right" data-bind="submit: processLogin">
                    <div class="form-group">
                        <input id="user" name="user" type="text" class="form-control" placeholder="User Name" value="admin" />
                    </div>

                    <div class="form-group">
                        <input id="pass" name="pass" type="password" class="form-control" placeholder="Password" value="admin" />
                    </div>

                    <div class="form-group">
                        <button class="btn btn-primary">Login&nbsp;&nbsp;&nbsp;<i class="glyphicon glyphicon-log-in"></i></button>
                    </div>
                </form>
            </div>
        </div>
        <!--head-->
        <div class="page-header">
            <div class="row">
                <div class="col-lg-6">
                    <h1>
                            <small>
                                Music Share Platform
                            </small>
                        </h1>
                </div>
                <div class="col-lg-6">
                    <h1 class="pull-right">
                            <small>
                                <a class="icons">
                                    <i class="fa fa-facebook-official"></i>                            
                                </a>
                                <a class="icons">
                                    <i class="fa fa-google-plus-square"></i>                                       
                                </a>
                                <a class="icons">
                                    <i class="fa fa-twitter-square"></i>   
                                </a>
                            </small>
                        </h1>
                </div>
            </div>
        </div>
        <!--player-->
        <br/>
        <div class="row">
            <div class="col-lg-10 col-lg-offset-1">
                <iframe id="player" data-bind="attr: {src: url}" frameborder="0" allowfullscreen></iframe>
            </div>
            <!--search url-->
            <div class="row">
                <form class="col-lg-10 col-lg-offset-1" data-bind="submit: isSubmitted">
                    <br/>
                    <br/>
                    <div class="col-lg-9">
                        <input type="url" pattern="(http:|https:)?\/\/(www\.)?(youtube.com|youtu.be)\/(embed)(\S+)?" placeholder="https://www.youtube.com/embed/Elk6NXBHjBg"
                        class="form-control to-right" data-bind="value: fromInput" required/>
                    </div>
                    <div class="col-lg-3 pull-left">
                        <button class="btn btn-primary buttons">Load&nbsp;&nbsp;&nbsp;<i class="glyphicon glyphicon-plus"></i></button>
                        <button class="btn btn-danger buttons" data-bind="click: reload">Reset&nbsp;&nbsp;<i class="glyphicon glyphicon-refresh"></i></button>
                    </div>
                </form>
            </div>
        </div>
        <!--comments-->
        <br/>
        <br/>
        <div>
            <!--using in-line style is not a right way to style your HTML but in this case it is the only way to avoid blinking after log-in log-out or page reload-->
            <form id="comments" class="col-lg-8 col-lg-offset-1" data-bind="submit: function() { makeComment(); }" style="display: none;">
                <div class="form-group">
                    <p>
                        <label for="comment" class="label label-default">Post Comment:</label>
                    </p>
                    <textarea name="comment" id="comment" class="form-control" rows="6" data-bind="value: comments"></textarea>
                    <div class="errors" data-bind="visible: isEmpty">Please write something!</div>
                    <br/>
                </div>
                <div class="forrm-group">
                    <button class="btn btn-primary">Comment&nbsp;&nbsp;<i class="glyphicon glyphicon-envelope"></i></button>
                </div>
                <br/>
                <br/>
            </form>
        </div>
        <br/>
        <div class="row from-top" data-bind="foreach: users">
            <!--head-->
            <div class="col-lg-10 col-lg-offset-1">
                <div class="col-lg-1">
                    <div class="avatar">A</div>
                </div>
                <div class="col-lg-11 ">
                    <p class="padded-top name" data-bind="text: name"></p>
                </div>
            </div>

            <!--body-->
            <div class="col-lg-10 col-lg-offset-1">
                <br/>
                <p class="body" data-bind="text: comment"></p>

            </div>
        </div>
    </div>

    <!--knockout-->
    <script src="./bower_components/knockout/dist/knockout.js"></script>
    <!--player-->
    <script src="scripts/player.model.view.model.js" type="text/javascript"></script>
    <footer>
        <div class="container">
            &copy; MIT License
            <p>Code can be downloaded from the follwoing GitHub repo:
                <br/>
                <a href="https://github.com/EvgeniVasilev/knockout-sample" target="_blank">github.com/EvgeniVasilev/knockout-sample</a>
            </p>
        </div>
    </footer>
</body>

</html>